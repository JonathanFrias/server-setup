##This file exists to quickstart a Arch Linux setup
#



#partition magic
#fdisk /dev/*** #remeber to make bootable
#mkfs.ext /dev/***

mount /dev/*** /mnt
pacstrap /mnt base base-devel 


arch-chroot /mnt pacman -S grub-bios
modprobe dm-mod
genfstab -p /mnt >> /mnt/etc/fstab

cp -r /etc/zsh /mnt/etc/
cp ~/.zshrc /mnt/root/
patch /etc/locale.gen < chroot/etc/locale.gen.patch                                                             |   OPTIONAL (install kde)
                                                                                                                |   pacman S kde xorg
                                                                                                                |   pacman -S kde xorg
arch-chroot /mnt                                                                                                |   pacman -S kde xorg
grub-install --recheck /dev/***                                                                                 |
grub-mkconfig -o /boot/grub/grub.cfg                                                                            |   mkdir ~/public_html
echo "root:password" > /tmp/asdf                                                                                |   chmod  o+x .
chpasswd < /tmp/asdf                                                                                            |   chmod o+x ~/public_html/
                                                                                                                |   
                                                                                                                |   
echo "Arch" > /etc/hostname                                                                                     |   change default audio device                                     
                                                                                                                |   http://crunchbang.org/forums/viewtopic.php?pid=231236%23p231236
exit 
reboot 
#Boot into the system
#configure locale                                                       |#My specific wireless setup
loadkeys us #US keyboard                                                |wpa_supplicant                                                                                
timedatectl status                                                      |wpa_passphrase  frias '1qazxsw2!QAZXSW@' > /etc/wpa_supplicant/frias.conf                     
timedatectl set-timezone America/New_York                               |#Add extra options for a hidden network                                                       
rm /etc/localtime                                                       |sed -i 's/}/        scan_ssid=1\n        key_mgmt=WPA-PSK\n}/g' /etc/wpa_supplicant/frias.conf
ln -s /usr/share/zoneinfo/America/New_York /etc/localtime               |wpa_supplicant -i wlan0 -c /etc/wpa_supplicant/frias.conf                                                    
                                                                                 
#setup a user account that can administer the system
mkdir /home/jf
useradd -d /home/jf --password PASSWORD jf                                                          
chown jf:jf /home/jf
chmod u+w /etc/sudoers                                                                              
vi sudoers                                                                                          
echo 'jf ALL=(ALL) ALL' >> /etc/sudoers                                                             
chmod u-w /etc/sudoers                                                                         

dhcpcd		                                                                 
#Enable dhcpd service on boot                                                    
systemctl start dhcpcd.service                                                   
pacman -Syu                                                                      
pacman -S vim zsh 



#LAMP STACk
pacman -S apache  php php-apache mariadb php-pear                                                                              
pear list-all
pear install pear/MDB2_Driver_mysqli
pear install pear/MDB2#mysqli 
pear install pear/mysqli
pear list-all | grep mysqli


                                                                                                    

#apache configurations

#httpd files to configure
vim /etc/httpd/conf/extra/httpd-userdir.conf                                                       
vim /etc/httpd/conf/httpd.conf                                                                     
vim /etc/httpd/conf/httpd.conf
vim /etc/php/php.ini

sudo usermod -aG jf http                                                                  
systemctl restart apaache                                                                          
sudo systemctl restart apaache                                                                     
